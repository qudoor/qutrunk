QuSLé‡å­æ±‡ç¼–
============

qutrunkä½¿ç”¨Pythonä½œä¸ºå®¿ä¸»è¯­è¨€ï¼Œåˆ©ç”¨Pythonçš„è¯­æ³•ç‰¹æ€§å®ç°é’ˆå¯¹é‡å­ç¨‹åºçš„DSL(é¢†åŸŸä¸“ç”¨è¯­è¨€)ï¼
æˆ‘ä»¬æŠŠç”¨äºé‡å­ç¼–ç¨‹çš„ä¸“ç”¨è¯­è¨€ç§°ä¸ºï¼šQuSLï¼ˆä¸€å¥—ç±»ä¼¼OpenQASMçš„é‡å­æ±‡ç¼–è¯­è¨€ï¼‰ï¼Œ
QuSLä¸»è¦ç‰¹ç‚¹æ˜¯æœ€å·¦è¾¹æ˜¯ä¸€ä¸ªé‡å­é—¨æ“ä½œï¼Œä¸­é—´åŠ å… * )å·é“¾æ¥ç¬¦ï¼Œæœ€å³è¾¹æ˜¯æ“ä½œçš„é‡å­æ¯”ç‰¹ï¼Œå½¢å¼å¦‚ä¸‹ï¼š

.. code-block:: 

    gate * qubits

å‡ ä¸ªä¾‹å­:

.. code-block:: 

    H * q[0];               # å¯¹q[0]åšHadamardé—¨æ“ä½
    CNOT * (q[0], q[1]);    # q[0]ä¸ºæ§åˆ¶ä½ï¼Œq[1]ä¸ºç›®æ ‡ä½
    All(Measure) * q        # å¯¹qä¸­çš„æ‰€æœ‰é‡å­æ¯”ç‰¹åšæµ‹é‡æ“ä½œ

ä½¿ç”¨è¯¥æ ‡å‡†æ˜¯å……åˆ†åˆ©ç”¨äº†Pythonè¯­æ³•å¯ * )è¿ç®—ç¬¦çš„é‡è½½ç‰¹æ€§ï¼Œè¯¥è¡¨å½¢å¼æ›´æ¥è¿‘é‡å­ç‰©ç†è®¡ç®—å…¬å¼ï¼ŒåŒæ—¶
( * )åœ¨è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ä¸Šè¡¨ç¤ºä¹˜æ³•çš„æ„æ€ï¼Œå€Ÿæ­¤è¡¨ç¤ºå·¦è¾¹çš„é‡å­é—¨æ“ä½œå®é™…ä¸Šæ˜¯å¯¹é‡å­æ¯”ç‰¹åšçŸ©é˜µä¹˜æ³•è¿ç®—ï¼
ä½¿ç”¨è¯¥æ ‡å‡†ç¼–å†™çš„é‡å­æ±‡ç¼–æ˜¯å¯ä»¥ç›´æ¥è¢«qutrunkè§£æè¿è¡Œçš„ï¼Œä¸éœ€è¦åšè¯æ³•/è¯­æ³•æ–¹é¢çš„è§£æå¤„ç†å·¥ä½
åŸºäºè¯¥ç‰¹æ€§ï¼Œqutrunkå¯ä»¥æ— ç¼è¡”æ¥qubranché€šè¿‡å¯è§†åŒ–é‡å­ç¼–ç¨‹ç”Ÿæˆçš„é‡å­çº¿è·¯ï¼Œå³qutrunkå¯ä»¥ç›´æ¥è¿è¡Œ
qubranchç”Ÿæˆçš„é‡å­çº¿è·¯ï¼ˆåªéœ€åšä¸€äº›ç®€å•çš„åˆå§‹åŒ–å·¥ä½œï¼‰ï¼Œè€Œæ— éœ€åšè¯­æ³•ä¸Šçš„ç¼–è¯è½¬è¯‘å¤„ç†ï¼Œä¸‹é¢æ˜¯QuSL
æ¯ä¸ªé‡å­é—¨æ“ä½œä»‹ç»ï¼š

QuSLé‡å­æ±‡ç¼–è¯´æ˜
>>>>>>>>>>>>>>>>>>>>>>>

QuSLé‡å­æ±‡ç¼–æä¾›ä¸‰ä¸ªå±‚é¢çš„é‡å­æ“ä½œè¯­å¥å®ç°ï¼Œåˆ†åˆ«æ˜¯ï¼šåŸºç¡€é‡å­é—¨ï¼Œé‡å­ç®—ç¬¦å’Œé‡å­å…ƒæ“ä½œã€


1.Basic Gate: åŸºç¡€é‡å­é—¨ï¼ˆæä¾›å¯¹é‡å­æ¯”ç‰¹çš„åŸºç¡€æ“ä½œï¼Œæ˜¯å®ç°é‡å­ç®—æ³•çš„åŸºæœ¬æ„ä»¶ï¼‰
-------------------
.. code-block:: 

    //H(hadamard): å“ˆè¾¾é©¬é—¨ï¼Œå¯¹aåšHé—¨æ“ä½œï¼Œå¸¸ç”¨äºä½¿é‡å­æ¯”ç‰¹å¤„äºå åŠ æ€
    H * a

    //X(NOT): éé—¨ï¼ˆPauli-Xï¼‰å¯¹aè¿›è¡Œå–åæ“ä½œ, é‡å­æ¯”ç‰¹ç»•å¸ƒæ´›èµ«çƒçš„xè½´æ—‹è½¬piè§’åº¦
    X * a

    //Y: Pauli-Y, é‡å­æ¯”ç‰¹ç»•å¸ƒæ´›èµ«çƒçš„yè½´æ—‹è½¬piè§’åº¦
    Y * a

    //Z: Pauli-Z, é‡å­æ¯”ç‰¹ç»•å¸ƒæ´›èµ«çƒçš„zè½´æ—‹è½¬piè§’åº¦
    Z * a

    //CNOT(CX): å—æ§éé—¨ï¼Œaä½œä¸ºæ§åˆ¶ä½ï¼Œbä¸ºç›®æ ‡ä½ï¼Œå¦‚æœaä¸åˆ™å¯¹bè¿›è¡Œå–åï¼Œå¦‚æœaä¸åˆ™ä¸åšä»»ä½•æ“ä½
    CNOT * (a, b)

    //Toffoli: æ‰˜ä½›åˆ©é—¨ï¼Œa, bä½œä¸ºæ§åˆ¶ä½ï¼Œcä¸ºç›®æ ‡ä½, å¦‚æœa,bå‡ä¸º1åˆ™å¯¹bè¿›è¡Œå–åï¼Œå¦åˆ™ä¸åšä»»ä½•æ“ä½
    Toffoli * (a, b, c)

    //Measure: æµ‹é‡é—¨ï¼Œå¯¹aè¿›è¡Œæµ‹é‡ï¼Œç»“æœè¦ä¹ˆæ˜¯0ï¼Œè¦ä¹ˆæ˜¯1ï¼Œæµ‹é‡ç»“æœå—æ¦‚ç‡æŒ¯å¹…å½±å“
    Measure * a

    //P: ç›¸ç§»é—¨ï¼Œå°†é‡å­æ¯”ç‰>æ€å’Œ1>æ€çš„ç›¸ä½æ ¹æ®ç»™å®šçš„è§’åº¦è¿›è¡Œç§»åŠ
    P(theta) * a

    //Rx: é‡å­æ¯”ç‰¹ç»•å¸ƒæ´›èµ«çƒçš„xè½´æ—‹è½¬thetaè§’åº¦
    Rx(theta) * a

    //Ry: é‡å­æ¯”ç‰¹ç»•å¸ƒæ´›èµ«çƒçš„yè½´æ—‹è½¬thetaè§’åº¦
    Ry(theta) * a

    //Rz: é‡å­æ¯”ç‰¹ç»•å¸ƒæ´›èµ«çƒçš„zè½´æ—‹è½¬thetaè§’åº¦
    Rz(theta) * a

    //S: é‡å­æ¯”ç‰¹ç»•å¸ƒæ´›èµ«çƒçš„zè½´æ—‹è½¬pi/2è§’åº¦
    S * a

    //Sdg: å¯¹Sé—¨çš„åå‘æ“ä½œ, ç»•å¸ƒæ´›èµ«çƒçš„zè½´åæ–¹å‘æ—‹è½¬pi/2è§’åº¦
    Sdg * a

    //T: é‡å­æ¯”ç‰¹ç»•å¸ƒæ´›èµ«çƒçš„zè½´æ—‹è½¬pi/4è§’åº¦
    T * a

    //Tdg: å¯¹Té—¨çš„åå‘æ“ä½œ, ç»•å¸ƒæ´›èµ«çƒçš„zè½´åæ–¹å‘æ—‹è½¬pi/4è§’åº¦
    Tdg * a

    //Swap: äº¤æ¢ä¸¤ä¸ªé‡å­æ¯”ç‰¹çš„çŠ¶æ€
    Swap * (a, b)

    //SqrtSwap: å¯¹ä¸¤ä¸ªé‡å­æ¯”ç‰¹åšsqrtäº¤æ¢
    SqrtSwap * (a, b)

    //SqrtX: å¹³æ–¹æ ¹Xé—
    SqrtX * a

    //Rxx: ä¸¤ä¸ªé‡å­æ¯”ç‰¹ç»•x^xæ—‹è½¬ï¼Œæ—‹è½¬è§’åº¦ä¸ºtheta
    Rxx(theta) * (a, b)

    //Ryy: ä¸¤ä¸ªé‡å­æ¯”ç‰¹ç»•y^yæ—‹è½¬ï¼Œæ—‹è½¬è§’åº¦ä¸ºtheta
    Ryy(theta) * (a, b)

    //Rzz: ä¸¤ä¸ªé‡å­æ¯”ç‰¹ç»•z^zæ—‹è½¬ï¼Œæ—‹è½¬è§’åº¦ä¸ºtheta
    Rzz(theta) * (a, b)

    //Barrier: åˆ†éš”é‡å­æ¯”ç‰¹ï¼Œé˜»æ­¢é‡å­çº¿è·¯å¯¹ç›¸åº”é‡å­æ¯”ç‰¹åšä¼˜åŒ–ç­‰å¤„ç†
    Barrier * a
    Barrier * (a, b)

    //U1: å¯¹å•ä¸ªé‡å­æ¯”ç‰¹ç»•zè½´æ—‹è½
    U1(lambda) * a

    //U2: å¯¹å•ä¸ªé‡å­æ¯”ç‰¹ç»•x+zè½´æ—‹è½
    U1(phi, lambda) * a

    //U3: é€šç”¨å•é‡å­æ¯”ç‰¹æ—‹è½¬é—¨
    U1(theta, phi, lambda) * a
    
    //CH: é˜¿è¾¾ç›é—¨æ§åˆ¶
    CH * (a, b)

    //CP: æ§åˆ¶ç›¸ä½é—
    CP(theta) * (a, b)

    //CR: æ§åˆ¶æ—‹è½¬é—
    CR(theta) * (a, b)

    //CRx: æ§åˆ¶Rxé—
    CRx(theta) * (a, b)

    //CRy: æ§åˆ¶Ryé—
    CRz(theta) * (a, b)

    //CRz: æ§åˆ¶Rzé—
    CRz(theta) * (a, b)
	
    //CSx: æ§åˆ¶âˆšXé—
    CSx * (a, b)

    //CU: æ§åˆ¶Ué—
    CU(theta, phi, lambda, beta) * (a, b)

    //CU1: æ§åˆ¶U1é—
    CU1(theta) * (a, b)

    //CU3: æ§åˆ¶U3é—
    CU3(theta, phi, lambda) * (a, b)
	
    //CY: æ§åˆ¶Yé—
    CY * (a, b)

    //CZ: å¤šæ§åˆ¶Zå‹é—¨
    CZ * (a, b)

    //I: å¯¹å•é‡å­æ¯”ç‰¹åº”ç”¨å•ä½çŸ©é˜µ
    I * a
	
    //ISwap: åœ¨é‡å­æ¯”ç‰¹aå’Œbä¹‹é—´æ‰§è¡ŒiSWAPé—
    ISwap(theta) * (a, b)

    //R: ç»•cos(theta) + sin(theta)è½´æ—‹è½¬è§’åº¦phi
    R(theta, phi) * a

    //X1: åº”ç”¨å•é‡å­æ¯”ç‰¹X1é—
    X1 * a

    //Y1: åº”ç”¨å•é‡å­æ¯”ç‰¹Y1é—
    Y1 * a
	
    //Z1: åº”ç”¨å•é‡å­æ¯”ç‰¹Z1é—
    Z1 * a

    //Sxdg: Sqrt(X)é—¨é€†æ“ä½
    Sxdg * a

    //MCX: å¤šæ§åˆ¶X(éé—¨ï¼Œå‰ä¸¤ä¸ªé‡å­æ¯”ç‰¹ä¸ºæ§åˆ¶ä½
    MCX(2) * (a, b, c)

    //MCZ: å¤šæ§åˆ¶Zé—¨ï¼Œå‰ä¸¤ä¸ªé‡å­æ¯”ç‰¹ä¸ºæ§åˆ¶ä½
    MCZ(2) * (a, b, c)

    //CSwap: å—æ§äº¤æ¢é—¨ï¼Œç¬¬ä¸€ä¸ªé‡å­æ¯”ç‰¹ä¸ºæ§åˆ¶ä½
    CSwap * (a, b, c)

    //CSqrtX: æ§åˆ¶âˆšXé—
    CSqrtX * (a, b)

    //SqrtXdg: Sqrt(X)é—¨é€†æ“ä½
    SqrtXdg * a
	
    
2.Operator: é‡å­ç®—ç¬¦ï¼ˆå°†è‹¥å¹²åŸºç¡€é‡å­é—¨å°è£…æˆä¸€äº›é€šç”¨é‡å­æ“ä½œï¼
-------------------
.. code-block:: 	
    
    //QAA: é‡å­æŒ¯å¹…æ”¾å¤§
    QAA(3, 7) * qreg (å¯¹qregä¸­çš„é‡å­é€‰å–çŠ¶æ€å€ä½œä¸ºæ ‡è®°å€¼è¿›è¡Œä¸‰æ¬¡QAAè¿­ä»£è®¡ç®—)
	
    //QFT: é‡å­å‚…é‡Œå¶è½¬ç§»ç®—å­
    QFT * qreg (å¯¹qregä¸­çš„æ‰€æœ‰é‡å­æ¯”ç‰¹è¿›è¡ŒQFTæ“ä½œ)
    qubits = list(qreg)[::-2]
    QFT * qubits
	
    //QSP: é‡å­æ€åˆ¶å¤‡ç®—å­
    QSP("+") * qreg (å¯¹qregä¸­çš„æ‰€æœ‰é‡å­æ¯”ç‰¹è¿›è¡ŒQSPæ“ä½œ)


3.Meta: é‡å­å…ƒæ“ä½œï¼ˆéœ€è¦é…åˆå…¶ä»–åŸºç¡€é‡å­é—¨å®ç°ç‰¹å®šè¿ç®—ï¼Œä¸€èˆ¬ä¸å•ç‹¬ä½¿ç”¨ï¼
-------------------
.. code-block:: 
		
    //All: å¯¹æ‰€ç»™é‡å­é—¨è¿›è¡Œå°è£…ï¼Œæä¾›å¯¹å¤šé‡å­æ¯”ç‰¹ä¾¿æ·æ“ä½

    //å¯¹qregä¸­çš„æ‰€æœ‰é‡å­æ¯”ç‰¹è¿›è¡Œæµ‹é‡
    All(Measure) * qreg
    //å¯¹qregä¸­çš„æ‰€æœ‰é‡å­æ¯”ç‰¹è¿›è¡ŒHé—¨æ“ä½
    All(H) * qreg
	
    //Inv: å¯¹æ‰€ç»™é‡å­é—¨è¿›è¡Œåè½¬

    //å¯¹Hé—¨åšåè½¬æ“ä½œ
    Inv(H) * a

    //Power: å¯¹ç»™å®šé‡å­é—¨åšæŒ‡æ•°è¿ç®

    //å¯¹é‡å­æ¯”ç‰¹aè¿ç»­åšä¸¤æ¬¡Hé—¨æ“ä½
    Power(2, H) * a

	
4.ç¤ºä¾‹
-------------------
circuitå¯¼å‡ºæˆQuSL
>>>>>>>>>>>>>>>>

.. code-block:: 

    from qutrunk.circuit import QCircuit
    from qutrunk.circuit.gates import H, CNOT, Measure
    qc = QCircuit()

    qr = qc.allocate(2)

    # apply gate
    H * qr[0]
    CNOT * (qr[0], qr[1])
    Measure * qr[0]
    Measure * qr[1]

    # print circuit
    qc.dump(file="bell_pair.qusl")

å¯¼å‡ºQuSLæ ¼å¼æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸

.. code-block::

    {"target": "QuSL", "version": "1.0", "meta": {"circuit_name": "circuit-19817", "qubits": "2"}, "code": ["H * q[0]\n", "MCX(1) * (q[0], q[1])\n", "Measure * q[0]\n", "Measure * q[1]\n"]}


è§£æå¹¶è¿è¡ŒQuSLé‡å­çº¿è·¯
>>>>>>>>>>>>>>>>>>>>>>>

.. code-block:: 

	from qutrunk.circuit import QCircuit

	qc = QCircuit()
	circuit = qc.load(file="bell_pair.qusl")
	circuit.print()
	
è¿è¡Œç»“æœå¦‚ä¸‹

.. code-block::

	qreg q[2]
	creg c[2]
	H * q[0]
	MCX(1) * (q[0], q[1])
	Measure * q[0]
	Measure * q[1]
